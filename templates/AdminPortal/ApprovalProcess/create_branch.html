{% extends 'AdminPortal/base.html' %}
{% load static %}
{% block body_block %}

<style>
    label {
        font-weight: bold;
        font-size: 14px;
    }
    .card-title {
        font-size: 24px;
        font-weight: bold;
        color: #4b6584;
        margin-bottom: 20px;
    }
    .form-group input, .form-group textarea {
        border-radius: 8px;
        padding: 6px 10px;
        font-size: 14px;
        height: 38px;
    }
    .form-group textarea {
        height: auto;
    }
    .btn-primary {
        background-color: #4b6584;
        border: none;
        padding: 8px 20px;
        font-size: 14px;
        border-radius: 6px;
    }
    .btn-primary:hover {
        background-color: #3867d6;
    }
    .btn-light {
        padding: 8px 20px;
        font-size: 14px;
        border-radius: 6px;
    }
    th {
        background: #d9e6f1;
        text-align: center;
        font-size: 15px;
    }
    td {
        text-align: center;
        font-size: 14px;
    }
    .content-wrapper {
        padding: 20px;
    }
</style>

<div class="content-wrapper">
    <!-- Create Branch Form -->
    <div class="col-12 grid-margin stretch-card">
        <div class="card shadow-sm">
            <div class="card-body">
                <h1 class="card-title text-center">Create Distributor Branch</h1>

                <form method="post" class="forms-sample">
                    {% csrf_token %}
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label for="name">Branch Name</label>
                            <input type="text" class="form-control" name="name" id="name" placeholder="Enter Branch Name" required>
                        </div>

                        <div class="form-group col-md-6">
                            <label for="address">Address</label>
                            <input type="text" class="form-control" name="address" id="address" placeholder="Enter Address" required>
                        </div>

                        <div class="form-group col-md-6">
                            <label for="phone_number">Phone Number</label>
                            <input type="number" class="form-control" name="phone_number" id="phone_number" placeholder="Enter Phone Number" required>
                        </div>

                        <div class="form-group col-md-6">
                            <label for="manager_name">Manager Name</label>
                            <input type="text" class="form-control" name="manager_name" id="manager_name" placeholder="Enter Manager Name" required>
                        </div>

                        <div class="form-group col-md-4">
                            <label for="country">Country</label>
                            <input type="text" class="form-control" name="country" id="country" placeholder="Enter Country" required>
                        </div>

                        <div class="form-group col-md-4">
                            <label for="state">State</label>
                            <input type="text" class="form-control" name="state" id="state" placeholder="Enter State" required>
                        </div>

                        <div class="form-group col-md-4">
                            <label for="city">City</label>
                            <input type="text" class="form-control" name="city" id="city" placeholder="Enter City" required>
                        </div>

                        <div class="form-group col-md-12">
                            <label for="description">Description</label>
                            <textarea class="form-control" name="description" id="description" rows="3" placeholder="Enter Branch Description" required></textarea>
                        </div>
                    </div>

                    <div class="text-center mt-3">
                        <button type="submit" class="btn btn-primary mr-2">Save Branch</button>
                        <a href="{% url 'distributor_apporovallist' %}" class="btn btn-light">Cancel</a>
                    </div>
                </form>

            </div>
        </div>
    </div>

    <!-- Distributor Branch List -->
    <div class="col-12 grid-margin stretch-card mt-5">
        <div class="card shadow-sm">
            <div class="card-body">
                <h4 class="card-title text-center">ðŸ“‹ Distributor Branch List</h4>

                <div class="table-responsive">
                    <table id="branchTable" class="table table-striped table-bordered">
                        <thead>
                            <tr>
                                <th>No.</th>
                                <th>Branch Name</th>
                                <th>Address</th>
                                <th>Phone Number</th>
                                <th>Manager Name</th>
                                <th>Country</th>
                                <th>State</th>
                                <th>City</th>
                                <th>Description</th>
                                <th>Created At</th>
                                <th>Updated At</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for branch in distributor %}
                            <tr>
                                <td>{{ forloop.counter }}</td>
                                <td>{{ branch.name }}</td>
                                <td>{{ branch.address }}</td>
                                <td>{{ branch.phone_number }}</td>
                                <td>{{ branch.manager_name }}</td>
                                <td>{{ branch.country }}</td>
                                <td>{{ branch.state }}</td>
                                <td>{{ branch.city }}</td>
                                <td>{{ branch.description }}</td>
                                <td>{{ branch.created_at|date:"Y-m-d H:i" }}</td>
                                <td>{{ branch.update_at|date:"Y-m-d H:i" }}</td>
                            </tr>
                            {% empty %}
                            <tr>
                                <td colspan="11">No distributor branches found.</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

            </div>
        </div>
    </div>
</div>

{% endblock %}
